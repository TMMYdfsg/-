# -*- coding: utf-8 -*-
import math
from typing import Dict

JAPANESE_LARGE_UNITS = [
    ("10**(10**(10**100))", "googolplexplex (グーゴルプレックスプレックス)"),
    ("10**(10**100)", "googolplex (グーゴルプレックス)"),
    ("10**(7 * 2**122)", "不可説不可説転 (ふかせつふかせつてん)"),
    ("10**(7 * 2**121)", "不可説不可説 (ふかせつふかせつ)"),
    ("10**(7 * 2**120)", "不可説転 (ふかせつてん)"),
    ("10**(7 * 2**119)", "不可説 (ふかせつ)"),
    ("10**(7 * 2**118)", "不可量転 (ふかりょうてん)"),
    ("10**(7 * 2**117)", "不可量 (ふかりょう)"),
    ("10**(7 * 2**116)", "不可思転 (ふかしてん)"),
    ("10**(7 * 2**115)", "不可思 (ふかし)"),
    ("10**(7 * 2**114)", "不可称転 (ふかしょうてん)"),
    ("10**(7 * 2**113)", "不可称 (ふかしょう)"),
    ("10**(7 * 2**112)", "不可数転 (ふかすうてん)"),
    ("10**(7 * 2**111)", "不可数 (ふかすう)"),
    ("10**(7 * 2**110)", "無等転 (むとうてん)"),
    ("10**(7 * 2**109)", "無等 (むとう)"),
    ("10**(7 * 2**108)", "無辺転 (むへんてん)"),
    ("10**(7 * 2**107)", "無辺 (むへん)"),
    ("10**(7 * 2**106)", "無量転 (むりょうてん)"),
    ("10**(7 * 2**105)", "無量 (むりょう)"),
    ("10**(7 * 2**104)", "阿僧祇転 (あそうぎてん)"),
    ("10**(7 * 2**103)", "阿僧祇 (あそうぎ)"),
    ("10**(7 * 2**102)", "至 (し)"),
    ("10**(7 * 2**101)", "趣 (しゅ)"),
    ("10**(7 * 2**100)", "僧祇 (そうぎ)"),
    ("10**(7 * 2**99)", "鉢頭摩 (はどま)"),
    ("10**(7 * 2**98)", "青蓮華 (しょうれんげ)"),
    ("10**(7 * 2**97)", "阿畔多 (あばんた)"),
    ("10**(7 * 2**96)", "無我 (むが)"),
    ("10**(7 * 2**95)", "出生 (しゅっしょう)"),
    ("10**(7 * 2**94)", "無尽 (むじん)"),
    ("10**(7 * 2**93)", "演説 (えんぜつ)"),
    ("10**(7 * 2**92)", "烏波跋多 (うはばた)"),
    ("10**(7 * 2**91)", "毘迦摩 (びかま)"),
    ("10**(7 * 2**90)", "鉢麼陀 (はらまだ)"),
    ("10**(7 * 2**89)", "駄麼羅 (だまら)"),
    ("10**(7 * 2**88)", "者麼羅 (しゃまら)"),
    ("10**(7 * 2**87)", "迷攞普 (めいらふ)"),
    ("10**(7 * 2**86)", "娑婆羅 (しゃばら)"),
    ("10**(7 * 2**85)", "摩攞羅 (まらら)"),
    ("10**(7 * 2**84)", "那婆羅 (なばら)"),
    ("10**(7 * 2**83)", "毘婆羅 (びばら)"),
    ("10**(7 * 2**82)", "訶婆婆 (かばば)"),
    ("10**(7 * 2**81)", "羯羅波 (からは)"),
    ("10**(7 * 2**80)", "薜魯婆 (べいろば)"),
    ("10**(7 * 2**79)", "醯魯耶 (けいろや)"),
    ("10**(7 * 2**78)", "阿怛羅 (あたら)"),
    ("10**(7 * 2**77)", "摩伽婆 (まかば)"),
    ("10**(7 * 2**76)", "迦麼羅 (かまら)"),
    ("10**(7 * 2**75)", "阿野娑 (あやしゃ)"),
    ("10**(7 * 2**74)", "娑母羅 (しゃもら)"),
    ("10**(7 * 2**73)", "摩睹羅 (まとら)"),
    ("10**(7 * 2**72)", "契魯陀 (けいろだ)"),
    ("10**(7 * 2**71)", "謎魯陀 (めいろだ)"),
    ("10**(7 * 2**70)", "娑荼 (しゃらだ)"),
    ("10**(7 * 2**69)", "謎羅 (めいら)"),
    ("10**(7 * 2**68)", "睥羅 (へいら)"),
    ("10**(7 * 2**67)", "細羅 (さいら)"),
    ("10**(7 * 2**66)", "計羅 (けいら)"),
    ("10**(7 * 2**65)", "泥羅 (ないら)"),
    ("10**(7 * 2**64)", "窣歩羅 (そほら)"),
    ("10**(7 * 2**63)", "偈羅 (げら)"),
    ("10**(7 * 2**62)", "諦羅 (たいら)"),
    ("10**(7 * 2**61)", "薜羅 (べいら)"),
    ("10**(7 * 2**60)", "翳羅 (えいら)"),
    ("10**(7 * 2**59)", "尸婆麼怛羅 (しばまたら)"),
    ("10**(7 * 2**58)", "鉢羅麼怛羅 (はらまたら)"),
    ("10**(7 * 2**57)", "鞞麼怛羅 (べいまたら)"),
    ("10**(7 * 2**56)", "奚麼怛羅 (けいまたら)"),
    ("10**(7 * 2**55)", "那麼怛羅 (なまたら)"),
    ("10**(7 * 2**54)", "伽麼怛羅 (がまたら)"),
    ("10**(7 * 2**53)", "勃麼怛羅 (ぼまたら)"),
    ("10**(7 * 2**52)", "阿麼怛羅 (あまたら)"),
    ("10**(7 * 2**51)", "極量 (ごくりょう)"),
    ("10**(7 * 2**50)", "不動 (ふどう)"),
    ("10**(7 * 2**49)", "離憍慢 (りきょうまん)"),
    ("10**(7 * 2**48)", "調伏 (ちょうぶく)"),
    ("10**(7 * 2**47)", "摩魯摩 (まろま)"),
    ("10**(7 * 2**46)", "瑿攞陀 (えいらだ)"),
    ("10**(7 * 2**45)", "懺慕陀 (ざんぼだ)"),
    ("10**(7 * 2**44)", "摩魯陀 (まろだ)"),
    ("10**(7 * 2**43)", "訶魯那 (かろな)"),
    ("10**(7 * 2**42)", "達攞歩陀 (たつらほだ)"),
    ("10**(7 * 2**41)", "奚魯伽 (けいろか)"),
    ("10**(7 * 2**40)", "訶理三 (かりさん)"),
    ("10**(7 * 2**39)", "訶理蒲 (かりぼ)"),
    ("10**(7 * 2**38)", "一動 (いちどう)"),
    ("10**(7 * 2**37)", "訶理婆 (かりば)"),
    ("10**(7 * 2**36)", "泥羅婆 (ないらば)"),
    ("10**(7 * 2**35)", "最妙 (さいみょう)"),
    ("10**(7 * 2**34)", "高出 (こうしゅつ)"),
    ("10**(7 * 2**33)", "周広 (しゅうこう)"),
    ("10**(7 * 2**32)", "伺察 (しさつ)"),
    ("10**(7 * 2**31)", "奚婆羅 (けいばら)"),
    ("10**(7 * 2**30)", "毘睹羅 (びとら)"),
    ("10**(7 * 2**29)", "三末耶 (さんまや)"),
    ("10**(7 * 2**28)", "顛倒 (てんどう)"),
    ("10**(7 * 2**27)", "異路 (いろ)"),
    ("10**(7 * 2**26)", "一持 (いちじ)"),
    ("10**(7 * 2**25)", "称量 (しょうりょう)"),
    ("10**(7 * 2**24)", "毘佉擔 (びきゃたん)"),
    ("10**(7 * 2**23)", "毘薄底 (びばてい)"),
    ("10**(7 * 2**22)", "毘婆訶 (びばか)"),
    ("10**(7 * 2**21)", "毘素陀 (びすだ)"),
    ("10**(7 * 2**20)", "毘盛伽 (びじょうが)"),
    ("10**(7 * 2**19)", "毘贍婆 (びせんば)"),
    ("10**(7 * 2**18)", "毘薩羅 (びさら)"),
    ("10**(7 * 2**17)", "僧羯邏摩 (そうがらま)"),
    ("10**(7 * 2**16)", "毘伽婆 (びかば)"),
    ("10**(7 * 2**15)", "毘攞伽 (びらか)"),
    ("10**(7 * 2**14)", "弥伽婆 (みかば)"),
    ("10**(7 * 2**13)", "阿婆鈐 (あばけん)"),
    ("10**(7 * 2**12)", "禰摩 (ねま)"),
    ("10**(7 * 2**11)", "普摩 (ふま)"),
    ("10**(7 * 2**10)", "界分 (かいぶん)"),
    ("10**(7 * 2**9)", "多婆羅 (たばら)"),
    ("10**(7 * 2**8)", "阿婆羅 (あばら)"),
    ("10**(7 * 2**7)", "摩婆羅 (まばら)"),
    ("10**(7 * 2**6)", "最勝 (さいしょう)"),
    ("10**(7 * 2**5)", "阿伽羅 (あから)"),
    (10**112, "矜羯羅 (こんがら)"),
    (10**100, "googol (グーゴル)"),
    (10**68, "無量大数 (むりょうたいすう)"),
    (10**64, "不可思議 (ふかしぎ)"),
    (10**60, "那由他 (なゆた)"),
    (10**56, "阿僧祇 (あそうぎ)"),
    (10**56, "頻波羅 (びんばら)"),
    (10**52, "恒河沙 (こうがしゃ)"),
    (10**48, "極 (ごく)"),
    (10**44, "載 (さい)"),
    (10**40, "正 (せい)"),
    (10**36, "澗 (かん)"),
    (10**32, "溝 (こう)"),
    (10**28, "穣 (じょう)"),
    (10**28, "那由他 (なゆた)"),
    (10**24, "秭 (し/じょ)"),
    (10**20, "垓 (がい)"),
    (10**16, "京 (けい)"),
    (10**14, "阿多 (あゆた)"),
    (10**12, "兆 (ちょう)"),
    (10**8, "億 (おく)"),
    (10**7, "倶胝 (くてい)"),
    (10**5, "洛叉 (らくしゃ)"),
    (10**4, "万 (まん)"),
]


def format_money_manjp(value: int) -> str:
    """万円単位の整数を日本語大数で整形。"""
    n = int(value)
    if n == 0:
        return "0円相当(万円基準)"
    parts = []
    remaining = n * 10000  # 万円→円換算の参考表記（あくまで装飾）
    for unit, name in JAPANESE_LARGE_UNITS:
        if remaining >= unit:
            count = remaining // unit
            remaining = remaining % unit
            parts.append(f"{count}{name}")
    if not parts:
        return f"{n}万円"
    return f"{n}万円（≈{''.join(parts)}）"
